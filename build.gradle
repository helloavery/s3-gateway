/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id "io.freefair.lombok" version "5.1.0"
}

allprojects {
    group = 'com.averygrimes'
    version = '0.0.1-SNAPSHOT'
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'maven-publish'

    repositories {
        mavenLocal()
        mavenCentral()
    }


    ext{
        averygrimesCommonVersion = '1.0-SNAPSHOT'
        averygrimesServiceDiscoveryVersion = '1.0-SNAPSHOT'
        awsEncryptionVersion = '1.6.1'
        awsSoftwareSdkVersion = '2.13.18'
        awsSdkVersion = '1.11.784'
        bouncyCastleVersion = '1.60'
        ecacheVersion = '3.8.1'
        jaxRsVersion = '2.29.1'
        lombokVersion = '1.18.10'
        springBootVersion = '2.2.0.RELEASE'
    }


    dependencies {
        implementation platform("software.amazon.awssdk:bom:${awsSoftwareSdkVersion}")
        implementation platform("com.amazonaws:aws-java-sdk-bom:${awsSdkVersion}")

        implementation "com.averygrimes:common-cache:${averygrimesCommonVersion}"
        implementation "com.averygrimes:service-discovery:${averygrimesServiceDiscoveryVersion}"

        implementation "org.springframework.boot:spring-boot-starter-web:${springBootVersion}"

        implementation "org.bouncycastle:bcprov-jdk15on:${bouncyCastleVersion}"
        implementation "org.bouncycastle:bcpkix-jdk15on:${bouncyCastleVersion}"

        implementation "software.amazon.awssdk:s3"
        implementation "com.amazonaws:aws-java-sdk-s3"
        implementation "com.amazonaws:aws-java-sdk-dynamodb"
        implementation "software.amazon.awssdk:apigateway"
        implementation "software.amazon.awssdk:kms"
        implementation "software.amazon.awssdk:sts"
        implementation "com.amazonaws:aws-encryption-sdk-java:${awsEncryptionVersion}"

        implementation "org.ehcache:ehcache:${ecacheVersion}"

        compileOnly "org.glassfish.jersey.bundles:jaxrs-ri:${jaxRsVersion}"

        compileOnly "org.projectlombok:lombok:${lombokVersion}"
        annotationProcessor "org.projectlombok:lombok:${lombokVersion}"

        testImplementation "org.springframework.boot:spring-boot-starter-test:${springBootVersion}"
        testCompileOnly "org.projectlombok:lombok:${lombokVersion}"
        testAnnotationProcessor "org.projectlombok:lombok:${lombokVersion}"


    }

    sourceCompatibility = 1.11
    targetCompatibility = 1.11

    publishing {
        publications {
            maven(MavenPublication) {
                from(components.java)
            }
        }
    }

    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
    }
}
